<div class="card">
  <p-table
    [value]="data"
    [rows]="rows"
    [totalRecords]="totalRecords"
    [lazy]="true"
    (onLazyLoad)="loadData($event)"
    responsiveLayout="scroll"
  >
    <ng-template pTemplate="header">
      <tr>
        <th *ngFor="let header of headers">{{ header }}</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData>
      <tr>
        <td *ngFor="let field of fields">
          @if(field == "customer"){
          {{ rowData.customer.personalDetails.firstName }}
          {{ rowData.customer.personalDetails.lastName }}
          } @else if(field == "invoice_status"){
          <p-chip
            [style]="{
              color: getStatusColor(rowData[field])
            }"
            label="{{ rowData[field] }}"
            icon="{{ getStatusIcon(rowData[field]) }}"
          ></p-chip>
          } @else if(field == "transactionStatus"){
          <p-chip
            [style]="{
              color: getStatusColor(rowData[field])
            }"
            label="{{ rowData[field] }}"
            icon="{{ getStatusIcon(rowData[field]) }}"
          ></p-chip>
          } @else{
          {{ rowData[field] }}
          }
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
